<p>The lock is not unlocked in finally block which may cause dead lock if runtime exception is thrown.</p>
<p>Consider unlock in this way</p>